services:
  - type: web
    name: sportroutineai-medico
    env: python
    plan: free
    buildCommand: "./build.sh"
    startCommand: "gunicorn django_project.wsgi:application --bind 0.0.0.0:$PORT"
    envVars:
      # OPCIÓN 1: Usar base de datos de Render (descomenta las siguientes 3 líneas)
      # - key: DATABASE_URL
      #   fromDatabase:
      #     name: sportroutineai-db
      #     property: connectionString
      
      # OPCIÓN 2: Usar Neon.tech (recomendado)
      # Configura DATABASE_URL manualmente en el dashboard de Render
      # con tu connection string de Neon.tech
      # Formato: postgresql://user:pass@ep-xxx-pooler.neon.tech/db?sslmode=require
      
      - key: SECRET_KEY
        generateValue: true
      - key: DEBUG
        value: "False"
      - key: ALLOWED_HOSTS
        value: ".onrender.com"
      - key: CSRF_TRUSTED_ORIGINS
        value: "https://*.onrender.com"

# OPCIÓN 1: Base de datos de Render (descomenta si usas esta opción)
# databases:
#   - name: sportroutineai-db
#     plan: free
#     databaseName: sportroutineai
#     user: sportroutineai_user

# OPCIÓN 2: Si usas Neon.tech, NO necesitas esta sección
# Solo configura DATABASE_URL en las variables de entorno del servicio web
