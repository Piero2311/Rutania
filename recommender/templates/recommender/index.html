{% extends 'recommender/base.html' %}

{% block title %}Inicio - SportRoutineAI{% endblock %}

{% block content %}
<!-- Hero Section -->
<div class="jumbotron bg-primary text-white p-5 rounded mb-4">
    <div class="container text-center">
        <h1 class="display-4"><i class="bi bi-heart-pulse"></i> SportRoutineAI</h1>
        <p class="lead">Sistema avanzado de recomendación deportiva y médica personalizada</p>
        <p class="mb-0">Integrando Paradigmas: Imperativo + Funcional + Lógico</p>
    </div>
</div>

{% if error %}
<div class="alert alert-danger alert-dismissible fade show" role="alert">
    <strong>Error:</strong> {{ error }}
    <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
</div>
{% endif %}

{% if errores %}
<div class="alert alert-danger alert-dismissible fade show" role="alert">
    <strong>Errores encontrados:</strong>
    <ul class="mb-0">
    {% for error in errores %}
        <li>{{ error }}</li>
    {% endfor %}
    </ul>
    <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
</div>
{% endif %}

<!-- Formulario de Recomendación -->
<div class="card shadow mb-4">
    <div class="card-header bg-primary text-white">
        <h3 class="mb-0"><i class="bi bi-clipboard-data"></i> Completa tus datos</h3>
    </div>
    <div class="card-body">
        <p class="text-muted">Ingresa tu información para recibir una recomendación personalizada</p>
        
        <form method="POST" action="{% url 'recommender:recomendar' %}">
            {% csrf_token %}
            
            <div class="row mb-3">
                <div class="col-md-6">
                    <label for="edad" class="form-label">Edad (años)</label>
                    <input type="number" class="form-control" id="edad" name="edad" min="15" max="100" required>
                </div>
                
                <div class="col-md-6">
                    <label for="peso" class="form-label">Peso (kg)</label>
                    <input type="number" class="form-control" id="peso" name="peso" min="30" max="300" step="0.1" required>
                </div>
            </div>
            
            <div class="row mb-3">
                <div class="col-md-6">
                    <label for="altura" class="form-label">Altura (metros)</label>
                    <input type="number" class="form-control" id="altura" name="altura" min="1.0" max="2.5" step="0.01" placeholder="ej: 1.75" required>
                </div>
                
                <div class="col-md-6">
                    <label for="dias_disponibles" class="form-label">Días disponibles por semana</label>
                    <input type="number" class="form-control" id="dias_disponibles" name="dias_disponibles" min="1" max="7" required>
                </div>
            </div>
            
            <div class="mb-3">
                <label for="objetivo" class="form-label">Objetivo principal</label>
                <select class="form-select" id="objetivo" name="objetivo" required>
                    <option value="">Selecciona un objetivo</option>
                    <option value="peso">Pérdida de peso</option>
                    <option value="musculacion">Ganancia muscular</option>
                    <option value="mantenimiento">Mantenimiento general</option>
                </select>
            </div>
            
            <button type="submit" class="btn btn-primary btn-lg">
                <i class="bi bi-search"></i> Obtener Recomendación
            </button>
        </form>
    </div>
</div>

<!-- Beneficios -->
<div class="row mb-4">
    <div class="col-md-4 mb-3">
        <div class="card h-100 shadow-sm">
            <div class="card-body text-center">
                <i class="bi bi-bullseye display-4 text-primary"></i>
                <h4 class="card-title mt-3">Recomendaciones Personalizadas</h4>
                <p class="card-text">Rutinas adaptadas mediante reglas lógicas avanzadas basadas en tu perfil médico y deportivo.</p>
            </div>
        </div>
    </div>
    
    <div class="col-md-4 mb-3">
        <div class="card h-100 shadow-sm">
            <div class="card-body text-center">
                <i class="bi bi-clipboard-pulse display-4 text-success"></i>
                <h4 class="card-title mt-3">Análisis Médico</h4>
                <p class="card-text">Cálculo de IMC, evaluación de seguridad y recomendaciones basadas en condiciones médicas.</p>
            </div>
        </div>
    </div>
    
    <div class="col-md-4 mb-3">
        <div class="card h-100 shadow-sm">
            <div class="card-body text-center">
                <i class="bi bi-list-check display-4 text-info"></i>
                <h4 class="card-title mt-3">Múltiples Opciones</h4>
                <p class="card-text">Acceso a más de {{ total_rutinas }} rutinas diferentes con alternativas personalizadas.</p>
            </div>
        </div>
    </div>
</div>

{% if not user.is_authenticated %}
<!-- Call to Action -->
<div class="alert alert-info text-center">
    <h5><i class="bi bi-info-circle"></i> ¿Quieres guardar tu progreso?</h5>
    <p class="mb-2">Regístrate gratis para acceder a tu dashboard personalizado, historial de recomendaciones y seguimiento de progreso.</p>
    <a href="{% url 'recommender:registro' %}" class="btn btn-primary">
        <i class="bi bi-person-plus"></i> Crear Cuenta Gratis
    </a>
</div>
{% endif %}
{% endblock %}
